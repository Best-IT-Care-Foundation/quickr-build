{"version":3,"sources":["Pages/OrderLogin.js"],"names":["Login","onEmailChange","event","setState","email","target","value","onPasswordChange","password","onSubmit","state","length","fetch","method","headers","body","JSON","stringify","then","res","json","id","setTimeout","ID","history","productID","price","props","push","this","match","params","className","required","onChange","type","placeholder","minLength","onClick","to","Component"],"mappings":"iLAEOA,E,kDAIL,aAAc,IAAD,8BACX,gBASFC,cAAgB,SAACC,GACf,EAAKC,SAAS,CAAEC,MAAOF,EAAMG,OAAOC,SAXzB,EAabC,iBAAmB,SAACL,GAClB,EAAKC,SAAS,CAAEK,SAAUN,EAAMG,OAAOC,SAd5B,EAgBbG,SAAW,YACL,EAAKC,MAAMN,MAAMO,OAAS,GAAK,EAAKD,MAAMF,SAAW,IACvDI,MAAM,kCAAmC,CACvCC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBb,MAAO,EAAKM,MAAMN,MAClBI,SAAU,EAAKE,MAAMF,aAEtBU,MAAK,SAACC,GAAD,OAASA,EAAIC,UAAQF,MAAK,SAACC,GAC/B,EAAKhB,SAAS,CAAEkB,GAAIF,OACrBD,KACDI,YAAW,WACTV,MAAM,yCAAyC,CAC7CC,OAAO,OACPC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBM,GAAI,EAAKb,MAAMW,GACfG,QAAS,EAAKd,MAAMe,cAGxBb,MAAM,iCAAD,OAAkC,EAAKF,MAAMW,GAA7C,YAAmD,EAAKX,MAAMgB,OAAQ,CACzEb,OAAO,SAERK,KACCI,YAAW,WACT,EAAKK,MAAMH,QAAQI,KAAnB,OACC,QAEJ,OA3CP,EAAKlB,MAAQ,CACXN,MAAO,GACPI,SAAU,GACVa,GAAG,GACHI,UAAU,GACVC,MAAM,IAPG,E,8DAHMC,GAChBE,KAAK1B,SAAS,CAACuB,MAAMG,KAAKF,MAAMG,MAAMC,OAAOL,MAAMD,UAAUI,KAAKF,MAAMG,MAAMC,OAAOV,S,8CAoDtF,OACE,6BACE,8BACE,yBAAKW,UAAU,cACb,uBAAGA,UAAU,eAAb,2BACA,2BACEA,UAAU,cACVC,UAAQ,EACRC,SAAUL,KAAK5B,cACfkC,KAAK,QACLC,YAAY,6BAEd,2BACEJ,UAAU,iBACVC,UAAQ,EACRI,UAAU,IACVH,SAAUL,KAAKtB,iBACf4B,KAAK,WACLC,YAAY,6BAEd,2BACEJ,UAAU,eACVM,QAAST,KAAKpB,SACdH,MAAM,UAER,kBAAC,IAAD,CAAM0B,UAAU,YAAYO,GAAG,aAA/B,6B,GA/ESC,aAwFNxC","file":"static/js/21.d7489525.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link} from \"react-router-dom\";\r\n class Login extends Component{\r\n   componentDidMount(props){\r\n     this.setState({price:this.props.match.params.price,productID:this.props.match.params.id})\r\n   }\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      id:'',\r\n      productID:'',\r\n      price:''\r\n    };\r\n  }\r\n  onEmailChange = (event) => {\r\n    this.setState({ email: event.target.value });\r\n  };\r\n  onPasswordChange = (event) => {\r\n    this.setState({ password: event.target.value });\r\n  };\r\n  onSubmit = () => {\r\n    if (this.state.email.length > 6 || this.state.password > 5){\r\n      fetch(\"http://159.65.147.41:5000/Login\", {\r\n        method: \"post\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          email: this.state.email,\r\n          password: this.state.password,\r\n        }),\r\n      }).then((res) => res.json()).then((res) => {\r\n          this.setState({ id: res })\r\n      }).then(\r\n        setTimeout(() => {\r\n          fetch(\"http://159.65.147.41:5000/orderHistory\",{\r\n            method:\"post\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              ID: this.state.id,\r\n              history: this.state.productID,\r\n            }),\r\n          })\r\n          fetch(`http://159.65.147.41:5000/ref/${this.state.id}/${this.state.price}`,{\r\n            method:\"post\"\r\n          })\r\n          .then(\r\n            setTimeout(() => {\r\n              this.props.history.push(`/`);\r\n            }, 1000)\r\n          );\r\n        }, 1000)\r\n      )\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form>\r\n          <div className=\"form-login\">\r\n            <p className=\"title-login\">Login Again for confirm</p>\r\n            <input\r\n              className=\"email-input\"\r\n              required\r\n              onChange={this.onEmailChange}\r\n              type=\"email\"\r\n              placeholder=\"e.g. example@example.com\"\r\n            />\r\n            <input\r\n              className=\"password-input\"\r\n              required\r\n              minLength=\"6\"\r\n              onChange={this.onPasswordChange}\r\n              type=\"password\"\r\n              placeholder=\"Enter Your Password Here\"\r\n            />\r\n            <input\r\n              className=\"submit-input\"\r\n              onClick={this.onSubmit}\r\n              value=\"Login\"\r\n            />\r\n            <Link className=\"undr-form\" to=\"/Register\">\r\n              Create New Account\r\n            </Link>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;\r\n"],"sourceRoot":""}